<% require 'digest/md5' %>
<% require 'base64' %>
[connection]
id=<%= setid %>
uuid=<%= Digest::MD5.hexdigest(name).to_s %>
type=vpn
permissions=user:<%= user %>:;
autoconnect=<%= autoconnect %>

[vpn]
service-type=org.freedesktop.NetworkManager.openconnect
lasthost-flags=0
xmlconfig-flags=0
pem_passphrase_fsid=no
gwcert-flags=2
gateway-flags=2
autoconnect-flags=0
enable_csd_trojan=no
certsigs-flags=0
cookie-flags=2
gateway=<%= gateway %>
authtype=<%= authtype %>

[vpn-secrets]
form:main:username=<%= user %>
lasthost=<%= gateway %>
xmlconfig=<%= Base64.encode64(xmlconfig).gsub("\n","\n+") %>

[ipv4]
method=<%= ipv4_method %>
never-default=<%= never_default %>
